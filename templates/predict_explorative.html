{% extends 'base.html' %}
{% block title %}Predict · Explorative{% endblock %}
{% block content %}
<div class="container py-4">
  <h1 class="h4 mb-3">Explorative prediction</h1>
  <form method="post" class="row g-3">
    <div class="col-md-3">
      <label class="form-label">Activity</label>
      <select class="form-select" name="activity">
        <option>POD</option><option>OXD</option><option>CAT</option><option>SOD</option><option>GPx</option>
      </select>
    </div>
    <div class="col-md-3"><label class="form-label">Formula</label><input class="form-control" name="formula" placeholder="e.g., Fe3O4"></div>
    <div class="col-md-2"><label class="form-label">pH</label><input class="form-control" name="ph" placeholder="7.4"></div>
    <div class="col-md-2"><label class="form-label">Temp (°C)</label><input class="form-control" name="temp_c" placeholder="25"></div>
    <div class="col-md-2"><label class="form-label">Size (nm)</label><input class="form-control" name="size_nm" placeholder="20"></div>
    <div class="col-md-3"><label class="form-label">Surface type</label><input class="form-control" name="surface_type" placeholder="e.g., citrate"></div>
    <div class="col-12"><button class="btn btn-primary">Predict</button></div>
  </form>

  {% if result %}
  <hr>
  <h2 class="h6">Result</h2>
  <div class="row g-3">
    <div class="col-md-4"><div class="p-3 border rounded">Mean (lgKm): <strong>{{ result.pred_mean }}</strong></div></div>
    <div class="col-md-4"><div class="p-3 border rounded">Lower: <strong>{{ result.pred_lo }}</strong></div></div>
    <div class="col-md-4"><div class="p-3 border rounded">Upper: <strong>{{ result.pred_hi }}</strong></div></div>
  </div>
  <div class="mt-3">
    <pre class="small mb-0">{{ result.explain | tojson(indent=2) }}</pre>
  </div>
  {% endif %}
</div>
{% endblock %}
